# تحديثات نموذج إضافة الأجهزة

## التغييرات المطبقة

### 1. إزالة حقل القطاع من النموذج
- تم إزالة حقل اختيار القطاع من النموذج
- يتم تعيين القطاع تلقائياً من لوحة التحكم الحالية (sector.name)

### 2. تحديث أنواع الأجهزة
تم تغيير أنواع الأجهزة المتاحة إلى:
- **PC** (كمبيوتر)
- **Printer** (طابعة)
- **Scanner** (ماسح ضوئي)

### 3. إضافة بيانات مالك الجهاز
تم إضافة قسم جديد "بيانات مالك الجهاز" يحتوي على:
- **اسم المالك** (owner_name) - اختياري
- **رقم الموبايل** (owner_mobile) - اختياري
- **رقم الهاتف الأرضي** (owner_landline) - اختياري

### 4. إضافة حقل عنوان IP
- **عنوان IP** (ip_address) - اختياري، موجود في قسم بيانات الجهاز

### 5. ترتيب الحقول في النموذج
الترتيب الجديد للحقول:
1. نوع الجهاز * (قائمة منسدلة: PC, Printer, Scanner)
2. اسم الجهاز * (حقل نصي)
3. الرقم التسلسلي * (حقل نصي)
4. الحالة * (قائمة منسدلة)
5. عنوان IP (اختياري)
6. **قسم بيانات المالك:**
   - اسم المالك
   - رقم الموبايل
   - رقم الهاتف الأرضي
7. ملاحظات (حقل نصي متعدد الأسطر)

## تحديثات قاعدة البيانات المطلوبة

### للمشاريع الجديدة
استخدم ملف `SUPABASE_SETUP.md` المحدث الذي يحتوي على جميع الحقول الجديدة.

### للمشاريع الموجودة
قم بتشغيل ملف `MIGRATION_ADD_OWNER_FIELDS.sql` في Supabase SQL Editor لإضافة الحقول الجديدة:

```sql
ALTER TABLE devices 
ADD COLUMN IF NOT EXISTS owner_name TEXT,
ADD COLUMN IF NOT EXISTS owner_mobile TEXT,
ADD COLUMN IF NOT EXISTS owner_landline TEXT,
ADD COLUMN IF NOT EXISTS ip_address TEXT;
```

## الملفات المعدلة

1. **src/components/AdminDashboard.jsx**
   - تحديث حالة formData
   - تحديث deviceTypes
   - تحديث النموذج (إزالة حقل القطاع وإضافة حقول المالك)
   - تحديث دالة openEditModal
   - تحديث دالة resetForm

2. **SUPABASE_SETUP.md**
   - إضافة الحقول الجديدة إلى جدول devices

3. **MIGRATION_ADD_OWNER_FIELDS.sql** (جديد)
   - ملف SQL للترحيل لإضافة الحقول الجديدة للمشاريع الموجودة

## ملاحظات مهمة

- ✅ جميع حقول بيانات المالك اختيارية (غير مطلوبة)
- ✅ حقل IP اختياري لأن بعض الأجهزة لا تحتاج إلى IP (موجود في قسم بيانات الجهاز)
- ✅ القطاع يتم تعيينه تلقائياً من لوحة التحكم الحالية
- ✅ النموذج يعمل لكل من إضافة جهاز جديد وتعديل جهاز موجود
